<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style type="text/css">
    #box {
        width: 400px;
        height: 300px;
        border: 1px solid red;
    }
    </style>
</head>

<body>
    <button id="btn1">获取八戒的信息显示在容器里</button>
    <button id="btn2">获取八戒的信息弹框</button>
    <button id="btn3">获取悟空的信息显示在容器里</button>
    <button id="btn4">获取悟空的信息弹框</button>
    <div id="box"></div>
    <script type="text/javascript">
    // 获取按钮对象
    var Btn1 = document.getElementById('btn1');
    var Btn2 = document.getElementById('btn2');
    var Btn3 = document.getElementById('btn3');
    var Btn4 = document.getElementById('btn4');

    // 绑定事件
    Btn1.onclick = function() {
        jsonP('http://127.0.0.1/H5_37/jsonP/bajie.php', 'showbox');
    }

    // 绑定事件
    Btn2.onclick = function() {
        jsonP('http://127.0.0.1/H5_37/jsonP/bajie.php', 'alertTxt');
    }

    // 绑定事件
    Btn3.onclick = function() {
        jsonP('http://127.0.0.1/H5_37/jsonP/wukong.php', 'showbox');
    }

    // 绑定事件
    Btn4.onclick = function() {
        jsonP('http://127.0.0.1/H5_37/jsonP/wukong.php', 'alertTxt');
    }

    // 把接收到的数据显示在容器里
    function showbox(data) {
        document.getElementById('box').innerHTML = data.name + " 年龄：" + data.age;
    }

    // 把接收到的数据显示弹框
    function alertTxt(data) {
        alert(data.name + " 年龄：" + data.age);
    }

    // jsonP 的封装
    function jsonP(url, callback) {
        // 创建 script 节点
        var scriptNode = document.createElement('script');
        // 给 script 写 src 属性	
        scriptNode.src = url + '?callback=' + callback;
        // 把创建的节点放到文档里
        document.body.appendChild(scriptNode);
    }
    </script>
</body>

</html>